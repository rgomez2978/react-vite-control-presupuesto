import{j as e,r as c,a as n,C as L,b as P,S as M,c as O,L as E,d as A,T,F,R as k,e as w}from"./vendor.2670358b.js";const _=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};_();const I=({children:o,tipo:a})=>e("div",{className:`alerta ${a}`,children:o}),$=({presupuesto:o,setPresupuesto:a,setIsValidPresupuesto:r})=>{const[l,t]=c.exports.useState("");return e("div",{className:"contenedor-presupuesto contenedor sombra",children:n("form",{onSubmit:d=>{if(d.preventDefault(),!o||o<0){t("No es un presupuesto v\xE1lido");return}t(""),r(!0)},className:"formulario",children:[n("div",{className:"campo",children:[e("label",{children:"Definir Presupuesto"}),e("input",{className:"nuevo-presupuesto",type:"number",placeholder:"A\xF1ade tu Presupuesto",value:o,onChange:d=>a(Number(d.target.value))})]}),e("input",{type:"submit",value:"A\xF1adir"}),l&&e(I,{tipo:"error",children:l})]})})};const B=({gastos:o,setGastos:a,presupuesto:r,setPresupuesto:l,setIsValidPresupuesto:t})=>{const[s,d]=c.exports.useState(10),[u,g]=c.exports.useState(0),[p,f]=c.exports.useState(0);c.exports.useEffect(()=>{const v=o.reduce((x,y)=>y.cantidad+x,0),S=r-v,N=((r-S)/r*100).toFixed(2);g(S),f(v),setTimeout(()=>{d(N)},1500)},[o]);const m=v=>v.toLocaleString("en-US",{style:"currency",currency:"USD"}),h=()=>{confirm("\xBFDeseas reiniciar presupuesto y gastos?")&&(a([]),l(0),t(!1))};return n("div",{className:"contenedor-presupuesto contenedor sombra dos-columnas",children:[e("div",{children:e(L,{styles:P({pathColor:s>100?"#DC2626":"#3B82F6",trailColor:"#F5F5F5",textColor:s>100?"#DC2626":"#3B82F6"}),value:s,text:`${s}% Gastado`})}),n("div",{className:"contenido-presupuesto",children:[e("button",{className:"reset-app",type:"button",onClick:h,children:"Resetear App"}),n("p",{children:[e("span",{children:"Presupuesto: "}),m(r)]}),n("p",{className:`${u<0?"negativo":""}`,children:[e("span",{children:"Disponible: "}),m(u)]}),n("p",{children:[e("span",{children:"Gastado: "}),m(p)]})]})]})},R=({gastos:o,setGastos:a,presupuesto:r,setPresupuesto:l,isValidPresupuesto:t,setIsValidPresupuesto:s})=>n("header",{children:[e("h1",{children:"Planificador de Gastos"}),t?e(B,{gastos:o,setGastos:a,presupuesto:r,setPresupuesto:l,setIsValidPresupuesto:s}):e($,{presupuesto:r,setPresupuesto:l,setIsValidPresupuesto:s})]}),H=({filtro:o,setFiltro:a})=>e("div",{className:"filtros sombra contenedor",children:e("form",{children:n("div",{className:"campo",children:[e("label",{children:"Filtrar Gastos"}),n("select",{value:o,onChange:r=>a(r.target.value),children:[e("option",{value:"",children:"-- Todas las Categor\xEDas --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]})})});const V=()=>{const o=Math.random().toString(36).substr(2),a=Date.now().toString(36);return o+a},z=o=>{const a=new Date(o),r={year:"numeric",month:"long",day:"2-digit"};return a.toLocaleDateString("es-ES",r)};var J="/react-vite-control-presupuesto/assets/icono_ahorro.ff2959d3.svg",U="/react-vite-control-presupuesto/assets/icono_casa.1170ce11.svg",q="/react-vite-control-presupuesto/assets/icono_comida.db0a9016.svg",K="/react-vite-control-presupuesto/assets/icono_gastos.e6dea3b0.svg",Q="/react-vite-control-presupuesto/assets/icono_ocio.ad5d0e9e.svg",W="/react-vite-control-presupuesto/assets/icono_salud.41ba3136.svg",X="/react-vite-control-presupuesto/assets/icono_suscripciones.97f04dc8.svg";const Y={ahorro:J,comida:q,casa:U,gastos:K,ocio:Q,salud:W,suscripciones:X},D=({gasto:o,setGastoEditar:a,eliminarGasto:r})=>{const{categoria:l,nombre:t,cantidad:s,id:d,fecha:u}=o,g=()=>e(E,{children:e(A,{onClick:()=>a(o),children:"Editar"})}),p=()=>e(T,{children:e(A,{onClick:()=>r(d),destructive:!0,children:"Eliminar"})});return e(M,{children:e(O,{leadingActions:g(),trailingActions:p(),children:n("div",{className:"gasto sombra",children:[n("div",{className:"contenido-gasto",children:[e("img",{src:Y[l],alt:"Icono Gasto"}),n("div",{className:"descripcion-gasto",children:[e("p",{className:"categoria",children:l}),e("p",{className:"nombre-gasto",children:t}),n("p",{className:"fecha-gasto",children:["Agregado el: ","",e("span",{children:z(u)})]})]})]}),n("p",{className:"cantidad-gasto",children:["$",s]})]})})})},Z=({gastos:o,setGastoEditar:a,eliminarGasto:r,filtro:l,gastosFiltrados:t})=>e("div",{className:"listado-gastos contenedor",children:l?n(F,{children:[e("h2",{children:t.length?"Gastos":"No Hay Gastos en esta categor\xEDa"}),t.map(s=>e(D,{gasto:s,setGastoEditar:a,eliminarGasto:r},s.id))]}):n(F,{children:[e("h2",{children:o.length?"Gastos":"No Hay Gastos a\xFAn"}),o.map(s=>e(D,{gasto:s,setGastoEditar:a,eliminarGasto:r},s.id))]})});var ee="/react-vite-control-presupuesto/assets/cerrar.ab3aac92.svg";const te=({setModal:o,animarModal:a,setAnimarModal:r,guardarGasto:l,gastoEditar:t,setGastoEditar:s})=>{const[d,u]=c.exports.useState(""),[g,p]=c.exports.useState(""),[f,m]=c.exports.useState(""),[h,v]=c.exports.useState(""),[S,N]=c.exports.useState(""),[x,y]=c.exports.useState("");return c.exports.useEffect(()=>{Object.keys(t).length>0&&(p(t.nombre),m(t.cantidad),v(t.categoria),y(t.id),N(t.fecha))},[]),n("div",{className:"modal",children:[e("div",{className:"cerrar-modal",children:e("img",{src:ee,alt:"cerrar modal",onClick:()=>{r(!1),s({}),setTimeout(()=>{o(!1)},500)}})}),n("form",{onSubmit:i=>{if(i.preventDefault(),[g,f,h].includes("")){u("Todos los campos son obligatorios"),setTimeout(()=>{u("")},3e3);return}l({nombre:g,cantidad:f,categoria:h,id:x,fecha:S})},className:`formulario ${a?"animar":"cerrar"}`,children:[e("legend",{children:t.nombre?"Editar Gasto":"Nuevo Gasto"}),d&&e(I,{tipo:"error",children:d}),n("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:"Nombre Gasto"}),e("input",{id:"nombre",type:"text",placeholder:"A\xF1ade el Nombre del Gasto",value:g,onChange:i=>p(i.target.value)})]}),n("div",{className:"campo",children:[e("label",{htmlFor:"cantidad",children:"Cantidad"}),e("input",{id:"cantidad",type:"number",placeholder:"A\xF1ade La cantidad del gasto: ej. 300",value:f,onChange:i=>m(Number(i.target.value))})]}),n("div",{className:"campo",children:[e("label",{htmlFor:"categoria",children:"Categor\xEDa"}),n("select",{id:"categoria",value:h,onChange:i=>v(i.target.value),children:[e("option",{value:"",children:"-- Seleccione --"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"gastos",children:"Gastos Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]}),e("input",{type:"submit",value:t.nombre?"Guardar Cambios":"A\xF1adir Gasto"})]})]})};var oe="/react-vite-control-presupuesto/assets/nuevo-gasto.3ab385ce.svg";function se(){var G;const[o,a]=c.exports.useState(localStorage.getItem("gastos")?JSON.parse(localStorage.getItem("gastos")):[]),[r,l]=c.exports.useState((G=Number(localStorage.getItem("presupuesto")))!=null?G:0),[t,s]=c.exports.useState(!1),[d,u]=c.exports.useState(!1),[g,p]=c.exports.useState(!1),[f,m]=c.exports.useState({}),[h,v]=c.exports.useState(""),[S,N]=c.exports.useState([]);return c.exports.useEffect(()=>{Object.keys(f).length>0&&(u(!0),setTimeout(()=>{p(!0)},500))},[f]),c.exports.useEffect(()=>{localStorage.setItem("presupuesto",r!=null?r:0)},[r]),c.exports.useEffect(()=>{var i;localStorage.setItem("gastos",(i=JSON.stringify(o))!=null?i:[])},[o]),c.exports.useEffect(()=>{if(h){const i=o.filter(b=>b.categoria===h);N(i)}},[h]),c.exports.useEffect(()=>{var b;((b=Number(localStorage.getItem("presupuesto")))!=null?b:0)>0&&s(!0)},[]),n("div",{className:d?"fijar":"",children:[e(R,{gastos:o,setGastos:a,presupuesto:r,setPresupuesto:l,isValidPresupuesto:t,setIsValidPresupuesto:s}),t&&n(F,{children:[n("main",{children:[e(H,{filtro:h,setFiltro:v}),e(Z,{gastos:o,setGastoEditar:m,eliminarGasto:i=>{const b=o.filter(C=>C.id!==i);a(b)},filtro:h,gastosFiltrados:S})]}),e("div",{className:"nuevo-gasto",children:e("img",{src:oe,alt:"icono nuevo gasto",onClick:()=>{u(!0),m({}),setTimeout(()=>{p(!0)},500)}})})]}),d&&e(te,{setModal:u,animarModal:g,setAnimarModal:p,guardarGasto:i=>{if(i.id){const b=o.map(C=>C.id===i.id?i:C);a(b),m({})}else i.id=V(),i.fecha=Date.now(),a([...o,i]);p(!1),setTimeout(()=>{u(!1)},500)},gastoEditar:f,setGastoEditar:m})]})}k.render(e(w.StrictMode,{children:e(se,{})}),document.getElementById("root"));
